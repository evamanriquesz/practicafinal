<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CocaCola</title>
    <link rel="icon" href="data:image/png;base64,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"/>
    <link href="fanstore.css" rel="stylesheet">
    <link href="comun.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css' rel='stylesheet' type='text/css'>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <script src="fanstore.js"></script>
    <script src="comun.js"></script>
   <script>

 document.addEventListener('DOMContentLoaded', () => {
          // Variables
          const baseDeDatos = [
              {
                  id: 1,
                  nombre: 'Sudadera Roja CocaCola',
                  precio: 40,
                  imagen: src="assets/sudaderaCocaColaRoja.jpg"
              },
              {
                  id: 2,
                  nombre: 'Sudadera Blanca CocaCola',
                  precio: 40,
                  imagen: src="assets/sudaderaCocaColaBlanca.jpg"
              },
              {
                  id: 3,
                  nombre: 'Libreta CocaCola',
                  precio: 15,
                  imagen: src="assets/libretaCocaCola.jpg"
              },
              {
                  id: 4,
                  nombre: 'Tote Bag CocaCola',
                  precio: 20,
                  imagen: src="assets/toteBagCocaCola.jpg"
              },
              {
                  id: 5,
                  nombre: 'Pijama CocaCola',
                  precio: 35,
                  imagen: src="assets/pijamaCocaCola.jpg"
              },
              {
                  id: 6,
                  nombre: 'Calcetines CocaCola',
                  precio: 35,
                  imagen: src="assets/calcetinesCocaColaNegros.jpg"
              },

          ];

          let carrito = [];
          const divisa = '€';
          const DOMitems = document.querySelector('#items');
          const DOMcarrito = document.querySelector('#carrito');
          const DOMtotal = document.querySelector('#total');
          const DOMbotonVaciar = document.querySelector('#boton-vaciar');

          // Funciones

          /**
          * Dibuja todos los productos a partir de la base de datos. No confundir con el carrito
          */
          function renderizarProductos() {
              baseDeDatos.forEach((info) => {
                  // Estructura
                  const miNodo = document.createElement('div');
                  miNodo.classList.add('card', 'col-md-4');
                  // Body
                  const miNodoCardBody = document.createElement('div');
                  miNodoCardBody.classList.add('card-body');
                  // Titulo
                  const miNodoTitle = document.createElement('h5');
                  miNodoTitle.classList.add('card-title');
                  miNodoTitle.textContent = info.nombre;
                  // Imagen
                  const miNodoImagen = document.createElement('img');
                  miNodoImagen.classList.add('img-fluid');
                  miNodoImagen.setAttribute('src', info.imagen);
                  // Precio
                  const miNodoPrecio = document.createElement('p');
                  miNodoPrecio.classList.add('card-text');
                  miNodoPrecio.textContent = `${info.precio}${divisa}`;
                  // Boton
                  const miNodoBoton = document.createElement('button');
                  miNodoBoton.classList.add('btn', 'btn-dark');
                  miNodoBoton.textContent = '+';
                  miNodoBoton.setAttribute('marcador', info.id);
                  miNodoBoton.addEventListener('click', anyadirProductoAlCarrito);
                  // Insertamos
                  miNodoCardBody.appendChild(miNodoImagen);
                  miNodoCardBody.appendChild(miNodoTitle);
                  miNodoCardBody.appendChild(miNodoPrecio);
                  miNodoCardBody.appendChild(miNodoBoton);
                  miNodo.appendChild(miNodoCardBody);
                  DOMitems.appendChild(miNodo);
              });
          }

          /**
          * Evento para añadir un producto al carrito de la compra
          */
          function anyadirProductoAlCarrito(evento) {
              // Anyadimos el Nodo a nuestro carrito
              carrito.push(evento.target.getAttribute('marcador'))
              // Actualizamos el carrito
              renderizarCarrito();

          }

          /**
          * Dibuja todos los productos guardados en el carrito
          */
          function renderizarCarrito() {
              // Vaciamos todo el html
              DOMcarrito.textContent = '';
              // Quitamos los duplicados
              const carritoSinDuplicados = [...new Set(carrito)];
              // Generamos los Nodos a partir de carrito
              carritoSinDuplicados.forEach((item) => {
                  // Obtenemos el item que necesitamos de la variable base de datos
                  const miItem = baseDeDatos.filter((itemBaseDatos) => {
                      // ¿Coincide las id? Solo puede existir un caso
                      return itemBaseDatos.id === parseInt(item);
                  });
                  // Cuenta el número de veces que se repite el producto
                  const numeroUnidadesItem = carrito.reduce((total, itemId) => {
                      // ¿Coincide las id? Incremento el contador, en caso contrario no mantengo
                      return itemId === item ? total += 1 : total;
                  }, 0);
                  // Creamos el nodo del item del carrito
                  const miNodo = document.createElement('li');
                  miNodo.classList.add('list-group-item', 'text-right', 'mx-2');
                  miNodo.textContent = `${numeroUnidadesItem} x ${miItem[0].nombre} - ${miItem[0].precio}${divisa}`;
                  // Boton de borrar
                  const miBoton = document.createElement('button');
                  miBoton.classList.add('btn', 'btn-danger', 'mx-5');
                  miBoton.textContent = 'X';
                  miBoton.style.marginLeft = '1rem';
                  miBoton.dataset.item = item;
                  miBoton.addEventListener('click', borrarItemCarrito);
                  // Mezclamos nodos
                  miNodo.appendChild(miBoton);
                  DOMcarrito.appendChild(miNodo);
              });
             // Renderizamos el precio total en el HTML
             DOMtotal.textContent = calcularTotal();
          }

          /**
          * Evento para borrar un elemento del carrito
          */
          function borrarItemCarrito(evento) {
              // Obtenemos el producto ID que hay en el boton pulsado
              const id = evento.target.dataset.item;
              // Borramos todos los productos
              carrito = carrito.filter((carritoId) => {
                  return carritoId !== id;
              });
              // volvemos a renderizar
              renderizarCarrito();
          }

          /**
           * Calcula el precio total teniendo en cuenta los productos repetidos
           */
          function calcularTotal() {
              // Recorremos el array del carrito
              return carrito.reduce((total, item) => {
                  // De cada elemento obtenemos su precio
                  const miItem = baseDeDatos.filter((itemBaseDatos) => {
                      return itemBaseDatos.id === parseInt(item);
                  });
                  // Los sumamos al total
                  return total + miItem[0].precio;
              }, 0).toFixed(2);
          }

          /**
          * Varia el carrito y vuelve a dibujarlo
          */
          function vaciarCarrito() {
              // Limpiamos los productos guardados
              carrito = [];
              // Renderizamos los cambios
              renderizarCarrito();
          }

          // Eventos
          DOMbotonVaciar.addEventListener('click', vaciarCarrito);

          // Inicio


          renderizarProductos();
          renderizarCarrito();

        });




   </script>


</head>
<body STYLE="background-color:black">
<header class="p-3 bg-black text-white">
    <div class="container">
        <div class="d-flex  align-items-center justify-content-center justify-content-lg-start">

            <img src="./assets/CocaColaLogo.png" alt="LogoCocaCola"  width="10%" height="5%">

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a href="index.html" class="nav-link px-3 text-white">Home</a></li>
                <li><a href="Company.html" class="nav-link px-3 text-white">The CocaCola Company</a></li>
                <li><a href="Musica.html" class="nav-link px-3 text-white">Música</a></li>
                <li><a href="Productos.html" class="nav-link px-3 text-white">Productos</a></li>
                <li><a href="inicioSesion.html" class="nav-link px-3 text-secondary">Fanstore</a></li>
                <li><a href="Preguntas.html" class="nav-link px-3 text-white">Preguntas</a></li>
                <li><a href="NASA.html" class="nav-link px-3 text-white">CocaCola Starlight</a></li>
                <li><a href="Juego.html" class="nav-link px-3 text-white">CocaCola-Marvel</a></li>

            </ul>
        </div>
        <div class="main" style="background-color:black;" >
            <div class="bg"></div>
            <h1 style="font-size:40px;"></h1>
            <div class="flex-container">
            </div>
        </div>
        <br><br><br><br>
        <h4 style="color:white;" align="center">¿Pensabas que ser FAN nivel experto no iba a tener su recompensa?<br>
            Bienvenido a Coca-Cola Fan Store, el único lugar donde conseguirás artículos exclusivos<br> y las experiencias más alucinantes con tus artistas.

            <br>
            Alerta, spoiler: dentro de poco podrás hacerte con los productos más top de #CocaColaFanStore desde la nueva app de Coca-Cola.<br>
            <br><br></h4>
        <h2 style="color:red;" align="center" >MUESTRA AL MUNDO TODO LO FAN QUE ERES CON NUESTROS ARTÍCULOS MÁS EXCLUSIVOS</h2>
        <br><br>
    </div>
</header>

<div class="container">
    <div class="row">
        <!-- Elementos generados a partir del JSON -->
        <main id="items" class="col-sm-8 row"></main>
        <!-- Carrito -->
        <aside class="col-md-4" style="color:white;">
            <h2 style="color:white;" >Carrito</h2>
            <!-- Elementos del carrito -->
            <ul id="carrito" class="list-group"></ul>
            <hr>
            <!-- Precio total -->
            <p class="text-right">Total: <span id="total"></span>&euro;</p>
            <button id="boton-vaciar" class="btn btn-danger">Vaciar</button>
            <a href="tarjeta.html">
                <button id="boton-pagar" class="btn btn-danger">Pagar</button>
            </a>
        </aside>
    </div>
</div>
</body>


</main>

<footer class="footer text-center py-2 bg-black" style="background-color:black;">
    <div class="container" >
        <br>
        <br>
        <p class="mb-1" style="color:white;">© 1892-2022 The CocaCola Company</p>
    </div>

    <div class="rrss">
        <p id="Encuentranos">Encuéntranos</p>
        <ul class="socialIcons">
            <li class="facebook"><a href="https://es-es.facebook.com/Marvel"><i class="fa fa-fw fa-facebook"></i>Facebook</a></li>
            <li class="twitter"><a href="https://twitter.com/marvelstudios"><i class="fa fa-fw fa-twitter"></i>Twitter</a></li>
            <li class="instagram"><a href="https://www.instagram.com/marvel/?hl=es"><i class="fa fa-fw fa-instagram"></i>Instagram</a></li>
            <li class="pinterest"><a href="https://www.pinterest.es/marvelofficial/"><i class="fa fa-fw fa-pinterest"></i>Pinterest</a></li>
            <li class="pinterest"><a href="https://www.youtube.com/c/marvel/featured"><i class="fa fa-fw fa-youtube"></i>YouTube</a></li>
        </ul>

    </div>

</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="fanstore.js"></script>
<script src="comun.js"></script>
</body>
</html>